import { dirname, join } from "path";
import { fileURLToPath } from "url";

import dotenv from "dotenv";

import { upcaseLetter } from "./utils.mjs";

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

export const projectRootPath = join(__dirname, "..");

const isDev = process.env.NODE_ENV === "development";

dotenv.config({
  path: join(projectRootPath, `.env.${isDev ? "development" : "production"}`),
});

export const pagesTemplate = (kind, page, content) => {
  const demoPageUrl = `${process.env.DEMO_APP_URL}/app/app/demos/${page}/index.tsx`;

  return `
---
id: ${page}
title: ${upcaseLetter(page)}
sidebar_label: ${upcaseLetter(page)}
description: ${upcaseLetter(page)} animation
keywords:
  - ${kind}
  - ${page}
  - carousel animation
  - carousel animation ${page}
  - react-native-reanimated-carousel
  - reanimated-carousel
  - reanimated carousel
  - react-native
  - snap-carousel
  - react native
  - snap carousel
  - ios
  - android
  - carousel
  - snap
  - reanimated
image:
slug: /examples/${kind}/${page}
---

{/* 

=========================================================================
=========================================================================
This page generated by /scripts/gen-pages.mjs, Don't update it manually 
=========================================================================
=========================================================================

*/}

Here is a \`${page}\` animation example. You can see the source code of this page [here](${demoPageUrl}).

import { Tabs } from 'nextra/components'
import Page from '../../../components/Page'

<Page pagePath='/demos/${kind}/${page}' />

\`\`\`tsx copy
${content}
\`\`\`
`;
};
